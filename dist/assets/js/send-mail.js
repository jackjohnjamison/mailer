"use strict";(function(){function a(a){var b=new XMLHttpRequest;b.open("POST","mailer/api",!0),b.setRequestHeader("Content-type","application/json"),b.send(a),b.onreadystatechange=function(){console.log(b.readyState,b.status,b.response)}}function b(){return{toAddress:document.getElementById("toAddress").value,subject:document.getElementById("subject").value,html:document.getElementById("html").value,text:document.getElementById("text").value}}function c(){var c=JSON.stringify(b());a(c)}(function(){var a=document.getElementById("emailForm");a.onsubmit=c})(),function(){function a(){b.srcdoc=c.value}var b=document.getElementById("emailPreview"),c=document.getElementById("html"),d=document.getElementById("update");d.addEventListener("change",function(){a()}),d.addEventListener("click",function(b){b.preventDefault(),a()})}()})();